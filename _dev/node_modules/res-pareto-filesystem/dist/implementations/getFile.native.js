"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.$$ = void 0;
const joinPath_native_1 = require("../native/joinPath.native");
const createReadFileError_native_1 = require("../native/createReadFileError.native");
const readFileImp_native_1 = require("../native/readFileImp.native");
const $$ = ($, $i) => {
    const joinedPath = (0, joinPath_native_1.joinPath)($);
    (0, readFileImp_native_1.readFileImp)(joinedPath, {
        encoding: "utf-8",
    }, (err, data) => {
        if (err === null) {
            $i.init(($i) => {
                $i.onData(data);
                $i.onEnd();
            });
        }
        else {
            $i.onError({
                error: (0, createReadFileError_native_1.createFileError)(err),
                path: joinedPath
            });
        }
    });
};
exports.$$ = $$;
